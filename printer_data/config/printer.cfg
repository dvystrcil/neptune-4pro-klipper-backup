[respond]

[include chopper_tune.cfg]

#[include klipper-tmc-autotune.cfg]

[include btt-eddy-zoffset.cfg]

#[include timelapse.cfg]

#[include adxlmcu.cfg]

#[include vibrations-profiler.cfg]

[include awd-sync.cfg]

[include klipper-backup.cfg]

[include klipper-maintenance.cfg]

[include led-control.cfg]

[include steppers.cfg]


# Recommended Klipper & MCU FW v0.11 (Not v0.10 Dirty as shipped) see flash info below
# This version of the printer.cfg of the Neptune 4 has been improved by SmartHome42/Printernbeer (Julien Mairy) 
# with valuable advice from Tom's Basement

# Additional firmware update info and Neptune 4 Pro changes by HalfManBear

# This file contains common pin mappings for ELEGOO / MKS ZNP-K1 boards.
# To use this config, the firmware should be compiled for the STMicroelectronics
# STM32F401. When running "make menuconfig", select the 32KiB
# bootloader, and enable "Serial for communication" on "USART1 PA10/PA9"
# Press and hold both RESET and BOOT button (or bridge BOOT Pads on the PCB if you've not added a button) 
# Whilst both are pressed/bridged let go of RESET first then BOOT 
# To flash, "sudo service klipper stop" then run cmd below
# stm32flash -w /home/mks/klipper/out/klipper.bin -v -S 0x08008000 -g 0x08000000 /dev/ttyS0
# Reboot after flash completes

# See docs/Config_Reference.md for a description of parameters.

#####################################################################
# 	Base Config
#####################################################################


[mcu]
# The hardware use USART1 PA10/PA9 connect to RK3328
serial: /dev/ttyS0
baud: 250000
restart_method: command

[printer]
kinematics:cartesian
max_velocity: 1000 #500
max_accel: 15150 #11000 (15000)
max_z_velocity: 100 #40
max_z_accel: 2000 #1600
square_corner_velocity: 5.0 #10.0
minimum_cruise_ratio: 0.0

[virtual_sdcard]
path: /home/mks/printer_data/gcodes
on_error_gcode: CANCEL_PRINT

[exclude_object]

[skew_correction] 

[axis_twist_compensation]
calibrate_start_x: 56.09
calibrate_end_x: 197.91
calibrate_y: 117.5

[force_move]

[idle_timeout]
timeout: 2100

[endstop_phase]

[display_status]

[gcode_arcs]


#####################################################################
# 	Input Shaper
#####################################################################

[input_shaper]
shaper_type_x: mzv
shaper_freq_x: 73.6
damping_ratio_x: 0.093

shaper_type_y: mzv
shaper_freq_y: 76.8
damping_ratio_y: 0.054

# [resonance_tester]
# # accel_chip: defined in other includes adxl345 nhk
# probe_points:
#    117.5,117.5,20
# #accel_per_hz: 90 # - Y axis,  60 - X axis
# hz_per_sec: 1
# min_freq: 10
# max_freq: 140
# move_speed: 50
# sweeping_accel: 200
# sweeping_period: 1.2

#####################################################################
# 	Extruder
#####################################################################

#LDO Orbiter v2.5
[extruder] 
# step_pin:PA5
# dir_pin:!PA6
# enable_pin:!PA4
microsteps: 16
rotation_distance: 4.637
full_steps_per_rotation: 200  #200 for 1.8 degree, 400 for 0.9 degree
nozzle_diameter: 0.400
filament_diameter: 1.750
min_temp: 0
max_temp: 330
# heater_pin: PA7
# sensor_type: Generic 3950
# sensor_pin: PA1
max_power: 1
#control = pid
#pid_kp = 25.825
#pid_ki = 1.979
#pid_kd = 84.254
pressure_advance: 0.02725
pressure_advance_smooth_time: 0.02
max_extrude_cross_section: 5 	#standard klipper default 4* (NozzleDiam^2)
instantaneous_corner_velocity: 5.000
max_extrude_only_distance: 500
max_extrude_only_velocity: 120
max_extrude_only_accel: 3000
# step_pulse_duration:0.000002
#[include th-elegoo.cfg]
[include th-nitehawk.cfg]

[verify_heater extruder]
max_error: 120
check_gain_time:40
hysteresis: 10
heating_gain: 2

[firmware_retraction]
retract_length: 0.3
# The length of filament (in mm) to retract when G10 is activated,
# and to unretract when G11 is activated (but see
# unretract_extra_length below). The default is 0 mm.
retract_speed: 40
# The speed of retraction, in mm/s. The default is 20 mm/s.
unretract_extra_length: 0
# The length (in mm) of *additional* filament to add when
# unretracting.
unretract_speed: 30
# The speed of unretraction, in mm/s. The default is 10 mm/s.

[gcode_macro M109]
rename_existing: M99109
gcode:
  #Parameters
  {% set s = params.S|float %}
  
  M104 {% for p in params %}{'%s%s' % (p, params[p])}{% endfor %}  ; Set hotend temp
  {% if s != 0 %}
      TEMPERATURE_WAIT SENSOR=extruder MINIMUM={s} MAXIMUM={s+1}   ; Wait for hotend temp (within 1 degree)
  {% endif %}

#####################################################################
# 	Bed Heater
#####################################################################

[heater_bed]
heater_pin:PB10
sensor_type: NTC 100K MGB18-104F39050L32
sensor_pin: PA0
max_power: 1.0
#control = pid
#pid_kp = 68.601
#pid_ki = 1.550
#pid_kd = 758.895
min_temp: 0
max_temp: 120 

[verify_heater heater_bed]
max_error: 120
check_gain_time:120
hysteresis: 10
heating_gain: 1

[heater_generic heater_bed_outer]
heater_pin:PC8
max_power:1.0
sensor_type: NTC 100K MGB18-104F39050L32
sensor_pin:PC2
#control = pid
#pid_kp = 75.301
#pid_ki = 1.383
#pid_kd = 1025.032
min_temp:0
max_temp:120

[verify_heater heater_bed_outer]    # Heating block temperature tolerance configuration
max_error: 600                 # maximum error
check_gain_time:120            # Tolerance time
hysteresis: 10                 # tolerance temperature
heating_gain: 1                # Heating gain

[gcode_macro M190]
rename_existing: M99190
gcode:
  {% set s = (params.S|float,120)|min %}
  {% if params.S is defined %}
    SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET={s|int}
    SET_HEATER_TEMPERATURE HEATER=heater_bed_outer TARGET={s|int}
    {% if printer.heater_bed.temperature <= s-2 %}
    TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={s-2} MAXIMUM={s+10}
    # G4 P20000
    # {% else %}
    # G4 P10000
    {% endif %}   
  {% else %}
  M140 S0
  {% endif %} 
	   
[gcode_macro M140]
rename_existing: M99140
gcode:
  {% set s = (params.S|float,120)|min %}
  {% if params.S is defined %}
    SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET={s|int}
    SET_HEATER_TEMPERATURE HEATER=heater_bed_outer TARGET={s|int}
  {% else %}
    SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET=0
    SET_HEATER_TEMPERATURE HEATER=heater_bed_outer TARGET=0
  {% endif %} 

[gcode_macro M141]
gcode:
  RESPOND PREFIX=chamber MSG="Chamber heating done."

[gcode_macro M191]
gcode:
  {% set s = params.S|float %}
  {% if s == 0 %}
      RESPOND PREFIX=chamber MSG="Chamber heating cancelled"
  {% else %}
      RESPOND PREFIX=chamber MSG="Chamber heating to: {s}c"
      M140 S110
      TEMPERATURE_WAIT SENSOR="temperature_sensor chamber" MINIMUM={s-1} 
      RESPOND PREFIX=chamber MSG="... chamber at target temperature"
  {% endif %}

#####################################################################
# 	Fan Control
#####################################################################

[gcode_macro M106]
rename_existing: M106.1 
gcode:
  {% set fan = 'fan' + (params.P|int if params.P is defined else 0)|string %}
  {% set speed = (params.S|float / 255 if params.S is defined else 1.0) %}
  {% if fan == "fan3" %} 
      SET_FAN_SPEED FAN="Bentobox" SPEED={speed} 
      RESPOND PREFIX=fan MSG="Setting {fan} to: {speed}"
  {% else %} 
      M106.1 {rawparams}
  {% endif %}
     
# [fan]
# pin: PC9

[fan_generic Bentobox]
pin: PC7
cycle_time: 0.01
hardware_pwm: false

#fan for hotend heatbreak & znp mainboard cooling FAN1&3
# [heater_fan heatbreak]
# pin: PA8
# fan_speed: 0.4               
# heater: extruder, heater_bed 
# shutdown_speed: 1

[temperature_fan Controler_Fan]
pin: PB7
max_power: 1.0
min_speed: 0.25
max_speed: 0.25
kick_start_time: 0
control: watermark
sensor_type: temperature_host
min_temp: 0
max_temp: 80
target_temp: 20

[gcode_macro Bentobox_On]
description: CYD_SCREEN_MACRO
gcode:
  SET_FAN_SPEED FAN="Bentobox" SPEED=1.0

[gcode_macro Bentobox_Off]
description: CYD_SCREEN_MACRO
gcode:
  SET_FAN_SPEED FAN="Bentobox" SPEED=0.0

####################################################################
# Homing and Gantry Adjustment Routines
####################################################################

[screws_tilt_adjust]
screw1_name: front left screw
screw1: 81, 34
screw2_name: rear left screw
screw2: 81, 204
screw3_name: rear right screw
screw3: 249.5, 204 
screw4_name: front right screw
screw4: 249.5, 34  
horizontal_move_z: 10
speed: 300
screw_thread: CW-M4  # Use CW for Clockwise and CCW for Counter Clockwise

[gcode_macro Bed_Level_Screws_Tune]
gcode:
  BED_MESH_CLEAR
  SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET=75
  SET_HEATER_TEMPERATURE HEATER=heater_bed_outer TARGET=75      
  G28
  TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM=72 MAXIMUM=75
  TEMPERATURE_WAIT SENSOR="heater_generic heater_bed_outer" MINIMUM=72 MAXIMUM=78
  SCREWS_TILT_CALCULATE

[gcode_macro Calibrate_Probe_Z_Offset]
gcode:
  G28
  PROBE_CALIBRATE

[gcode_macro Z_ENDSTOP_CALIBRATE]
rename_existing: Z_ENDSTOP_CALIBRATE_RAW
gcode: 
  BED_MESH_CLEAR
  G28
  G90 # Abs positioning
  G1 X{ printer.toolhead.axis_maximum.x/2 } Y{ printer.toolhead.axis_maximum.y/2 } F6000  
  Z_ENDSTOP_CALIBRATE_RAW {rawparams}
      
[gcode_macro Auto_Full_Bed_Level]
gcode:
  RESPOND PREFIX="info" MSG="Running Custom Bed Leveling Macro"
  BED_MESH_CLEAR
  SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET=60
  SET_HEATER_TEMPERATURE HEATER=heater_bed_outer TARGET=60
  G28
  TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM=58 MAXIMUM=65
  TEMPERATURE_WAIT SENSOR="heater_generic heater_bed_outer" MINIMUM=58 MAXIMUM=65 
  BED_MESH_CALIBRATE

#####################################################################
# 	Macros
#####################################################################

[gcode_macro PRINT_START]    
gcode:
  {% set e_temp = params.EXTRUDER| default(-1) | int %}
  {% set l_temp = e_temp - 10 %}
  RESPOND PREFIX=print_start MSG="Setting up..."
  SKEW_PROFILE LOAD=CaliFlower
  G92 E0   

  RESPOND PREFIX=print_start MSG="Lower temperature to prevent leakage ({l_temp}C)"
  M109 S{l_temp} ; cool down
  BRUSH

  RESPOND PREFIX=print_start MSG="Homing"
  G90   
  AWD_SYNC

  RESPOND PREFIX=print_start MSG="Creating bed mesh"
  BED_MESH_CLEAR                                     
  BED_MESH_CALIBRATE ADAPTIVE=1 METHOD=rapid_scan algorithm=bicubic   

  RESPOND PREFIX=print_start MSG="Move to start position"
  G1 X50.5 Y2 Z0.4 F6000 
  G1 X55.5 F600
  M109 S{e_temp}
  G1 E10 F600 ;prime Nozzle
  G92 E0 ;Reset Extruder

  RESPOND PREFIX=print_start MSG="Draw the first line"
  G1 X167.5 E40 F400 ;Draw the first line
  G1 Z0.6 F120.0 ;Move to side a little
  G1 X162.5 F3000
  G92 E0 ;Reset Extruder
  RESPOND PREFIX=print_start MSG="Printing..."        
       
[gcode_macro PRINT_END]
gcode:
  {% set z_safe = [printer.toolhead.position.z + 10, printer.toolhead.axis_maximum.z]|min %}
  SET_SKEW CLEAR=1
  M400               ; wait for buffer to clear  
                     ; start wipe out
  TURN_OFF_HEATERS
  G92 E0             ; zero the extruder
  G1 Z{z_safe} F3000 ; raise Z to safe position
  G91                ; relative positioning
  G1 E-2 F2700       ; retract a bit
  G1 X5 Y5 F3000     ; wipe out
  G1 E-2 Z0.2 F1600  ; retract and raise Z
                     ; start safe position and presentation  
  PARK_HEAD          ; move print head to safe position
  G90                ; absolute positioning
  G1 Y230            ; present print
  M107               ; turn off fan
  M84
  RESPOND PREFIX=print_end MSG="Finished printing."  

[pause_resume]

[gcode_macro CANCEL_PRINT]
rename_existing: BASE_CANCEL_PRINT
gcode:    
  SET_IDLE_TIMEOUT TIMEOUT={printer.configfile.settings.idle_timeout.timeout} 
  CLEAR_PAUSE
  SDCARD_RESET_FILE
  PRINT_END
  BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description: Pause the actual running print
rename_existing: PAUSE_BASE
variable_restore_idle_timeout: 0
gcode:
  ##### get user parameters or use default ##### 
  {% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
  {% set idle_timeout = client.idle_timeout|default(0) %}
  {% set temp = printer[printer.toolhead.extruder].target if printer.toolhead.extruder != '' else 0%}
  {% set restore = False if printer.toolhead.extruder == ''
              else True  if params.RESTORE|default(1)|int == 1 else False %}
  ##### end of definitions #####
  SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=last_extruder_temp VALUE="{{'restore': restore, 'temp': temp}}"
  # set a new idle_timeout value
  {% if idle_timeout > 0 %}
    SET_GCODE_VARIABLE MACRO=PAUSE VARIABLE=restore_idle_timeout VALUE={printer.configfile.settings.idle_timeout.timeout}
    SET_IDLE_TIMEOUT TIMEOUT={idle_timeout}
  {% endif %}
  PAUSE_BASE
  PARK_HEAD

[gcode_macro RESUME]
description: Resume the actual running print
rename_existing: RESUME_BASE
variable_last_extruder_temp: {'restore': False, 'temp': 0}
gcode:
  ##### get user parameters or use default #####
  {% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
  {% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
  {% set sp_move = client.speed_move|default(velocity) %}
  ##### end of definitions #####
  # restore idle_timeout time if needed
  {% if printer['gcode_macro PAUSE'].restore_idle_timeout > 0 %}
    SET_IDLE_TIMEOUT TIMEOUT={printer['gcode_macro PAUSE'].restore_idle_timeout}
  {% endif %}
  {% if printer.idle_timeout.state|upper == "IDLE" %}
    {% if last_extruder_temp.restore %} M109 S{last_extruder_temp.temp} {% endif %}
  {% endif %}
  _CLIENT_EXTRUDE
  RESUME_BASE VELOCITY={params.VELOCITY|default(sp_move)}

[gcode_macro _CLIENT_EXTRUDE]
description: Extrudes, if the extruder is hot enough
gcode:
  ##### get user parameters or use default #####
  {% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
  {% set use_fw_retract = (client.use_fw_retract|default(false)|lower == 'true') and (printer.firmware_retraction is defined) %}
  {% set length = params.LENGTH|default(client.unretract)|default(1.0)|float %}
  {% set speed = params.SPEED|default(client.speed_unretract)|default(35) %}
  {% set absolute_extrude = printer.gcode_move.absolute_extrude %}
  ##### end of definitions #####
  {% if printer.toolhead.extruder != '' %}
    {% if printer[printer.toolhead.extruder].can_extrude %}
      {% if use_fw_retract %}
        {% if length < 0 %}
          G10
        {% else %}
          G11
        {% endif %}
      {% else %}
        M83
        G1 E{length} F{(speed|float|abs) * 60}
        {% if absolute_extrude %}
          M82
        {% endif %}
      {% endif %}
    {% else %}
      RESPOND TYPE=echo MSG='Extruder not hot enough'
    {% endif %}
  {% endif %}

[gcode_macro TEST_POS]
gcode:
  {% set z_safe = [printer.toolhead.position.z + 10, printer.toolhead.axis_maximum.z]|min %}
  RESPOND PREFIX=test MSG=" what is: {printer.toolhead.axis_maximum.z}"
  RESPOND PREFIX=test MSG=" what is z_safe: {z_safe}"

[gcode_macro _POSITION_NOZZLE_OVER_BUCKET]
gcode: 
	RESPOND PREFIX=parking MSG="... Positioning nozzle over purge bucket"
  G90 
	G1 X253 F9000 

[gcode_macro PARK_HEAD]
description: CYD_SCREEN_MACRO
gcode:
  RESPOND PREFIX=parking MSG="Parking toolhead"
  {% if "x" not in printer.toolhead.homed_axes %}
    RESPOND PREFIX=parking MSG="... homing required"
    G28     
  {% endif %}
  _POSITION_NOZZLE_OVER_BUCKET

[gcode_macro PARK_CENTER]
description: CYD_SCREEN_MACRO
gcode:
  RESPOND PREFIX=parking MSG="Parking in the center"
  G28 
  G90 # Abs positioning
  G1 X{ printer.toolhead.axis_maximum.x/2 } Y{ printer.toolhead.axis_maximum.y/2 } Z100 F6000 
    
[gcode_macro PID_Tune_EXTRUDER]
gcode:
  G28
  M106 S255
  PID_CALIBRATE HEATER=extruder TARGET=215
  SAVE_CONFIG

[gcode_macro PID_Tune_Inner_BED]
gcode:
  G28
  M106 S255 ;Sets Print Fans to 100%
  PID_CALIBRATE HEATER=heater_bed TARGET=60
  SAVE_CONFIG

[gcode_macro PID_Tune_Outer_BED]
gcode:
  G28
  M106 S255 ;Sets Print Fans to 100%
  SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET=60 	;Heats Inner Zone to 60c at same time for better tuning 
  PID_CALIBRATE HEATER=heater_bed_outer TARGET=60
  SAVE_CONFIG

[gcode_macro DISABLE_Y_MOTORS]
description: CYD_SCREEN_MACRO
gcode:
  SET_STEPPER_ENABLE STEPPER=stepper_y ENABLE=0
  SET_STEPPER_ENABLE STEPPER=stepper_y1 ENABLE=0

#####################################################################
# 	Other
#####################################################################

[gcode_macro FORCE_SET_POS]
gcode:
  {% if 'resonance_tester' in printer.configfile.settings %}
  {% set home = printer.configfile.settings.resonance_tester.probe_points[0] %}
  {% endif %}

  {% set K_X = params.X | default(home[0] if home else 127 ) | float %}
  {% set K_Y = params.Y | default(home[1] if home else 127) | float %}
  {% set K_Z = params.Z | default(home[2] if home else 0) | float %}

  SET_KINEMATIC_POSITION X={K_X} Y={K_Y} Z={K_Z}

  # Moving To Full step positions:
  G91
  G1 X0.1 Y0.1 Z0.025
  SET_KINEMATIC_POSITION X={K_X} Y={K_Y} Z={K_Z}
  G90
  # Done
  
  # Cycling motion
  G91
  G1 X0.001 Y0.001 Z0.001
  G1 X-0.001 Y-0.001 Z-0.001
  G90 

      
#############################################################################
#   Fan & Temp Monitoring Config
#############################################################################

[temperature_sensor Rockchip_Host]
sensor_type: temperature_host
min_temp: 10
max_temp: 80

[temperature_sensor STM32_Mcu]
sensor_type: temperature_mcu
min_temp: 10
max_temp: 85

[temperature_sensor chamber]
sensor_type: Generic 3950
sensor_pin: PICO_MMU: PA3
min_temp: 0
max_temp: 100
gcode_id: C

#############################################################################
#   Must come last configs
#############################################################################

[include moonraker_obico_macros.cfg]

[include sp_mmu.cfg]

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [skew_correction CaliFlower]
#*# xy_skew = -0.00330977477358
#*# xz_skew = 0.0
#*# yz_skew = 0.0
#*#
#*# [motors_sync]
#*# steps_model_y = quadratic,
#*# 	-88.25375990585242,
#*# 	2800.42481616351,
#*# 	-1367.702613460092
#*#
#*# [probe_eddy_current btt_eddy]
#*# z_offset = 2.5
#*# reg_drive_current = 15
#*# calibrate =
#*# 	0.050000:3307488.069,0.090000:3306552.967,0.130000:3305613.956,
#*# 	0.170000:3304713.669,0.210000:3303773.275,0.250000:3302871.746,
#*# 	0.290000:3301992.910,0.330000:3301162.525,0.370000:3300302.807,
#*# 	0.410000:3299464.601,0.450000:3298634.704,0.490000:3297838.183,
#*# 	0.530000:3296977.939,0.570000:3296253.830,0.610000:3295494.169,
#*# 	0.650000:3294724.930,0.690000:3293963.171,0.730000:3293247.253,
#*# 	0.770000:3292483.242,0.810000:3291823.631,0.850000:3291087.102,
#*# 	0.890000:3290401.781,0.930000:3289697.964,0.970000:3289064.871,
#*# 	1.010000:3288402.248,1.050000:3287768.062,1.090000:3287077.064,
#*# 	1.130000:3286508.280,1.170000:3285896.804,1.210000:3285205.977,
#*# 	1.250000:3284667.524,1.290000:3284108.434,1.330000:3283494.280,
#*# 	1.370000:3282971.865,1.410000:3282361.202,1.450000:3281845.946,
#*# 	1.490000:3281261.957,1.530000:3280711.436,1.570000:3280196.968,
#*# 	1.610000:3279689.628,1.650000:3279167.071,1.690000:3278671.046,
#*# 	1.730000:3278184.800,1.770000:3277690.839,1.810000:3277210.958,
#*# 	1.850000:3276750.535,1.890000:3276296.144,1.930000:3275853.687,
#*# 	1.970000:3275398.262,2.010000:3274986.765,2.050000:3274542.257,
#*# 	2.090000:3274123.414,2.130000:3273706.502,2.170000:3273278.529,
#*# 	2.210000:3272897.261,2.250000:3272504.536,2.290000:3272088.005,
#*# 	2.330000:3271738.656,2.370000:3271372.272,2.410000:3270995.622,
#*# 	2.450000:3270646.213,2.490000:3270298.246,2.530000:3269920.675,
#*# 	2.570000:3269620.945,2.610000:3269247.857,2.650000:3268901.542,
#*# 	2.690000:3268598.274,2.730000:3268297.708,2.770000:3267958.210,
#*# 	2.810000:3267652.713,2.850000:3267342.390,2.890000:3267043.837,
#*# 	2.930000:3266767.871,2.970000:3266489.219,3.010000:3266165.273,
#*# 	3.050000:3265909.132,3.090000:3265640.533,3.130000:3265345.704,
#*# 	3.170000:3265071.536,3.210000:3264831.299,3.250000:3264535.147,
#*# 	3.290000:3264304.806,3.330000:3264039.570,3.370000:3263805.501,
#*# 	3.410000:3263558.627,3.450000:3263325.629,3.490000:3263106.447,
#*# 	3.530000:3262868.960,3.570000:3262641.038,3.610000:3262401.661,
#*# 	3.650000:3262188.799,3.690000:3262015.448,3.730000:3261759.393,
#*# 	3.770000:3261479.098,3.810000:3261331.277,3.850000:3261145.234,
#*# 	3.890000:3260900.536,3.930000:3260779.197,3.970000:3260560.040,
#*# 	4.010000:3260387.754,4.050000:3260177.670
#*#
#*# [temperature_probe btt_eddy]
#*# calibration_temp = 35.404903
#*# drift_calibration =
#*# 	3384316.120010, -2991.505792, 25.804051
#*# 	3356570.488736, -2322.815769, 19.688178
#*# 	3333972.961575, -1776.449371, 14.759582
#*# 	3314917.877570, -1307.754440, 10.562090
#*# 	3300154.794589, -958.444784, 7.474796
#*# 	3289202.784986, -720.330470, 5.444550
#*# 	3280146.434522, -517.841752, 3.672650
#*# 	3272964.762022, -356.648883, 2.229369
#*# 	3267270.157136, -236.232569, 1.195132
#*# drift_calibration_min_temp = 36.12951708413321
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.013051, -0.021547, -0.049765, -0.038495, -0.028166, -0.020125, -0.017528, -0.021579, -0.014867, -0.011375, -0.012921, -0.030117, -0.052406, -0.064160, -0.053577, -0.051800, -0.058494, -0.076887, -0.083994, -0.066253, -0.000378
#*# 	  0.009487, -0.054170, -0.062704, -0.053103, -0.041157, -0.040446, -0.035123, -0.030822, -0.025809, -0.027882, -0.040539, -0.051876, -0.067845, -0.063342, -0.061002, -0.060469, -0.073087, -0.082566, -0.078219, -0.081331, -0.086571
#*# 	  -0.000126, -0.058556, -0.055693, -0.065295, -0.041890, -0.040414, -0.038360, -0.039599, -0.031450, -0.029716, -0.034298, -0.055662, -0.073952, -0.087615, -0.077527, -0.080000, -0.090109, -0.107055, -0.117633, -0.112373, -0.076471
#*# 	  -0.006182, -0.067558, -0.074466, -0.063288, -0.049291, -0.047772, -0.042816, -0.038418, -0.029678, -0.033673, -0.040796, -0.062183, -0.076178, -0.076650, -0.076837, -0.074495, -0.090925, -0.103081, -0.104688, -0.114026, -0.108890
#*# 	  0.018767, -0.043248, -0.046873, -0.048575, -0.018775, -0.011865, -0.010027, -0.008952, -0.007070, -0.003208, -0.007425, -0.031132, -0.055080, -0.071929, -0.063534, -0.062260, -0.073148, -0.095286, -0.109825, -0.112320, -0.073193
#*# 	  0.055254, -0.001540, -0.009978, 0.006873, 0.029213, 0.027312, 0.036429, 0.042849, 0.047952, 0.049174, 0.037297, 0.015203, -0.006081, -0.002870, -0.004832, -0.009347, -0.028104, -0.041803, -0.045677, -0.063401, -0.056962
#*# 	  0.061579, 0.003902, 0.009189, 0.008773, 0.037876, 0.036085, 0.037426, 0.036504, 0.044006, 0.047117, 0.044339, 0.017372, -0.006943, -0.024216, -0.024401, -0.026169, -0.037582, -0.061600, -0.075052, -0.083751, -0.040095
#*# 	  0.036028, -0.008591, -0.012063, 0.001197, 0.013417, 0.011186, 0.009016, 0.016782, 0.025375, 0.025705, 0.014045, -0.004930, -0.028723, -0.032135, -0.036003, -0.039416, -0.055815, -0.066535, -0.068972, -0.078503, -0.059646
#*# 	  0.065483, -0.000408, 0.006999, 0.001822, 0.027587, 0.022233, 0.016847, 0.017351, 0.021101, 0.029241, 0.024024, -0.002306, -0.027976, -0.049921, -0.050694, -0.047805, -0.058685, -0.073717, -0.086521, -0.087473, -0.049742
#*# 	  0.054249, 0.011880, 0.005096, 0.016763, 0.028172, 0.022837, 0.028322, 0.029754, 0.033064, 0.036918, 0.026033, 0.003233, -0.020128, -0.025344, -0.029132, -0.032423, -0.045397, -0.049903, -0.051033, -0.059056, -0.046438
#*# 	  0.070975, 0.009117, 0.011469, 0.004977, 0.026922, 0.024868, 0.025567, 0.023900, 0.023899, 0.027086, 0.029389, -0.002988, -0.032336, -0.047028, -0.041281, -0.041436, -0.047182, -0.062409, -0.068208, -0.075594, -0.046189
#*# 	  0.029153, -0.010693, -0.016192, 0.000024, 0.012959, 0.006019, 0.013730, 0.015955, 0.019302, 0.021655, 0.012824, -0.011130, -0.028120, -0.027436, -0.024268, -0.026815, -0.037904, -0.046749, -0.045134, -0.054413, -0.030443
#*# 	  0.042273, -0.007900, -0.001301, -0.003705, 0.022559, 0.025692, 0.024826, 0.024795, 0.035249, 0.034324, 0.034055, 0.019086, -0.004838, -0.020086, -0.008443, -0.009304, -0.016977, -0.037206, -0.046840, -0.050517, -0.023255
#*# 	  0.016440, -0.012162, -0.015809, 0.000397, 0.020419, 0.023458, 0.034138, 0.040749, 0.049443, 0.055010, 0.052306, 0.035443, 0.027828, 0.025592, 0.027713, 0.027531, 0.011981, -0.000802, -0.003393, -0.014540, 0.013189
#*# 	  0.020432, -0.035903, -0.026144, -0.020021, 0.009945, 0.020462, 0.034750, 0.036513, 0.042650, 0.055395, 0.061952, 0.048184, 0.026930, 0.017047, 0.022221, 0.021717, 0.007739, -0.014745, -0.024558, -0.029253, -0.004142
#*# 	  -0.032799, -0.058503, -0.060677, -0.044052, -0.021498, -0.009344, 0.003917, 0.019714, 0.038789, 0.046722, 0.043400, 0.028245, 0.020882, 0.019978, 0.025978, 0.025592, 0.007855, -0.005466, -0.005333, -0.010289, 0.007988
#*# 	  -0.017692, -0.074979, -0.067260, -0.065474, -0.034824, -0.025250, -0.008322, 0.003302, 0.015889, 0.030672, 0.037377, 0.019733, -0.000265, -0.009884, 0.000240, -0.000720, -0.009581, -0.027365, -0.031935, -0.033832, -0.010856
#*# 	  -0.055883, -0.077557, -0.086667, -0.069966, -0.055349, -0.045945, -0.027940, -0.006761, 0.014470, 0.022342, 0.014471, 0.003259, -0.013238, -0.008606, -0.003461, -0.000957, -0.015053, -0.024879, -0.018101, -0.024195, 0.000354
#*# 	  -0.019853, -0.068834, -0.065980, -0.065113, -0.041070, -0.031399, -0.017873, -0.003211, 0.010593, 0.021386, 0.026720, 0.010681, -0.005746, -0.017872, -0.009726, -0.006254, -0.016038, -0.031866, -0.035208, -0.033963, -0.019784
#*# 	  -0.046182, -0.063692, -0.070839, -0.056338, -0.046882, -0.036478, -0.016138, -0.004856, 0.016790, 0.020847, 0.014324, 0.005640, -0.002937, 0.004397, 0.008124, 0.011762, -0.000403, -0.011617, -0.007043, -0.011016, 0.021191
#*# 	  -0.007748, -0.063649, -0.052151, -0.063557, -0.051547, -0.029912, -0.013553, -0.001664, 0.008175, 0.017181, 0.021027, 0.009160, -0.000845, -0.003738, 0.012124, 0.014391, 0.008278, -0.016100, -0.020972, -0.010714, 0.022254
#*# x_count = 21
#*# y_count = 21
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 18.0
#*# max_x = 200.60000000000002
#*# min_y = 15.0
#*# max_y = 220.0
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 71.831
#*# pid_ki = 2.359
#*# pid_kd = 546.814
#*#
#*# [heater_generic heater_bed_outer]
#*# control = pid
#*# pid_kp = 75.891
#*# pid_ki = 1.382
#*# pid_kd = 1041.597
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 29.643
#*# pid_ki = 1.675
#*# pid_kd = 131.171
#*#
#*# [stepper_z]
#*# position_endstop = -0.321
#*#
#*# [endstop_phase stepper_z]
#*# trigger_phase = 166/512
